### 1. البرنامج يُظهر "ملف التكوين غير موجود" أو "xxxxx يتطلب تكوين مفتاح API لـ xxxxx." كيف يمكنني إصلاح ذلك؟

هذه مشكلة شائعة في الإعداد. هناك بعض الأسباب التي قد تؤدي إلى حدوث ذلك:

1. **موقع الملف أو اسمه غير صحيح:**

* يتطلب البرنامج ملف تكوين باسم `config.toml` بالضبط. تأكد من أنك لم تسميه عن طريق الخطأ `config.toml.txt`.
* يجب وضع هذا الملف داخل مجلد `config`. يجب أن تكون البنية الصحيحة للدليل العامل كما يلي:
  ```
  /── config/
  │   └── config.toml
  └── krillinai.exe (ملفك التنفيذي)
  ```
* **لمستخدمي ويندوز:** يُوصى بوضع دليل البرنامج بالكامل في مجلد ليس على محرك الأقراص C: لتجنب مشاكل الأذونات المحتملة.

2. **تكوين مفتاح API غير مكتمل:**

* يتطلب التطبيق تكوينات منفصلة لنموذج اللغة الكبير (لترجمة)، وخدمة الصوت (للتفريغ وتوليد الصوت) وخدمة tts.
* حتى إذا كنت تستخدم OpenAI للجميع، يجب عليك ملء المفتاح في أقسام مختلفة من ملف `config.toml`. ابحث عن قسم `llm`، قسم `transcribe`، قسم `tts` واملأ مفاتيح API المقابلة والمعلومات المطلوبة الأخرى.

### 2. أحصل على خطأ يحتوي على "خطأ yt-dlp." ماذا يجب أن أفعل؟

يشير هذا الخطأ إلى مشكلة في برنامج تنزيل الفيديو، والتي عادة ما تكون مرتبطة بشبكتك أو إصدار برنامج التنزيل.

* **الشبكة:** إذا كنت تستخدم وكيلًا، تأكد من أنه مُكون بشكل صحيح في إعدادات الوكيل داخل ملف `config.toml`.
* **تحديث `yt-dlp`:** قد يكون إصدار `yt-dlp` المدمج مع البرنامج قديمًا. يمكنك تحديثه يدويًا عن طريق فتح نافذة طرفية في دليل `bin` الخاص بالبرنامج وتشغيل الأمر:
  ```
  ./yt-dlp.exe -U
  ```
  
  (استبدل `yt-dlp.exe` باسم الملف الصحيح لنظام التشغيل الخاص بك إذا كان مختلفًا).

### 3. الترجمة في الفيديو النهائي مشوشة أو تظهر ككتل مربعة، خاصة على لينكس.

هذا يحدث تقريبًا دائمًا بسبب عدم وجود خطوط على النظام، وخاصة تلك التي تدعم الأحرف الصينية. لإصلاح ذلك، تحتاج إلى تثبيت الخطوط اللازمة.

1. قم بتنزيل الخطوط المطلوبة، مثل [Microsoft YaHei](https://modelscope.cn/models/Maranello/KrillinAI_dependency_cn/resolve/master/%E5%AD%97%E4%BD%93/msyh.ttc) و [Microsoft YaHei Bold](https://modelscope.cn/models/Maranello/KrillinAI_dependency_cn/resolve/master/%E5%AD%97%E4%BD%93/msyhbd.ttc).
2. أنشئ دليل خطوط جديد: `sudo mkdir -p /usr/share/fonts/msyh`.
3. انسخ ملفات الخطوط `.ttc` التي تم تنزيلها إلى هذا الدليل الجديد.
4. نفذ الأوامر التالية لإعادة بناء ذاكرة التخزين المؤقت للخطوط:
    ```
    cd /usr/share/fonts/msyh
    sudo mkfontscale
    sudo mkfontdir
    sudo fc-cache -fv
    ```

### 4. على macOS، التطبيق لا يبدأ ويظهر خطأ مثل "KrillinAI تالف ولا يمكن فتحه."

يحدث هذا بسبب ميزة الأمان في macOS، Gatekeeper، التي تقيد التطبيقات من المطورين غير المعتمدين. لإصلاح ذلك، يجب عليك إزالة خاصية الحجر الصحي يدويًا.

1. افتح تطبيق **Terminal**.
2. اكتب الأمر `xattr -cr` متبوعًا بمسافة، ثم اسحب ملف `KrillinAI.app` من نافذة Finder إلى Terminal. سيبدو الأمر كما يلي:
    ```
    xattr -cr /Applications/KrillinAI.app
    ```
3. اضغط على Enter. يجب أن تكون قادرًا الآن على فتح التطبيق.

### 5. أحصل على أخطاء مثل `خطأ ffmpeg`، `خطأ audioToSrt`، أو `حالة الخروج 1` أثناء المعالجة.

تشير هذه الأخطاء عادةً إلى مشاكل في التبعيات أو موارد النظام.

* **`خطأ ffmpeg`:** يشير هذا إلى أن `ffmpeg` إما غير مثبت أو غير متاح من مسار النظام. تأكد من أنك قد قمت بتثبيت نسخة كاملة ورسمية من `ffmpeg` وأن موقعه مضاف إلى متغيرات البيئة في نظامك.
* **`خطأ audioToSrt` أو `حالة الخروج 1`:** يحدث هذا الخطأ أثناء مرحلة التفريغ (من الصوت إلى النص). الأسباب الشائعة هي:
  * **مشاكل في النموذج:** فشل نموذج التفريغ المحلي (مثل `fasterwhisper`) في التحميل أو تعرض للتلف أثناء التنزيل.
  * **ذاكرة غير كافية (RAM):** تشغيل النماذج المحلية يتطلب موارد كبيرة. إذا نفدت الذاكرة من جهازك، قد يقوم نظام التشغيل بإنهاء العملية، مما يؤدي إلى حدوث خطأ.
  * **فشل الشبكة:** إذا كنت تستخدم خدمة تفريغ عبر الإنترنت (مثل واجهة برمجة تطبيقات Whisper من OpenAI)، فهذا يشير إلى وجود مشكلة في اتصال الشبكة لديك أو مفتاح API غير صالح.

### 6. شريط التقدم لا يتحرك. هل البرنامج متجمد؟

لا، طالما أنك لا ترى رسالة خطأ، فإن البرنامج يعمل. يتم تحديث شريط التقدم فقط بعد الانتهاء من مهمة كبيرة (مثل التفريغ أو ترميز الفيديو). يمكن أن تكون هذه المهام تستغرق وقتًا طويلاً، مما يتسبب في توقف شريط التقدم لفترة طويلة. يرجى التحلي بالصبر وانتظار انتهاء المهمة.

### 7. بطاقة الرسوم NVIDIA من سلسلة 5000 غير مدعومة من `fasterwhisper`. ماذا يجب أن أفعل؟

لقد لوحظ أن نموذج `fasterwhisper` قد لا يعمل بشكل صحيح مع بطاقات الرسوم NVIDIA من سلسلة 5000 (اعتبارًا من منتصف 2025). لديك بعض البدائل للتفريغ:

1. **استخدام نموذج قائم على السحابة:** قم بتعيين `transcribe.provider.name` إلى `openai` أو `aliyun` في ملف `config.toml`. ثم، املأ مفتاح API والتفاصيل التكوينية المقابلة. سيستخدم هذا نموذج Whisper الخاص بمزود السحابة بدلاً من النموذج المحلي.
2. **استخدام نموذج محلي آخر:** يمكنك تجربة نماذج تفريغ محلية أخرى، مثل `whisper.cpp` الأصلي.

### 8. كيف يمكنني العثور على رمز الصوت/النغمة الصحيح لخاصية تحويل النص إلى كلام؟

تُحدد الأصوات المتاحة وأكوادها المقابلة من قبل مزود خدمة الصوت الذي تستخدمه. يرجى الرجوع إلى الوثائق الرسمية الخاصة بهم.

* **OpenAI TTS:** [الوثائق](https://platform.openai.com/docs/guides/text-to-speech/api-reference) (انظر خيارات `voice`).
* **Alibaba Cloud:** [الوثائق](https://help.aliyun.com/zh/isi/developer-reference/overview-of-speech-synthesis) (انظر معلمة `voice` في قائمة النغمات).

### 9. كيف يمكنني استخدام نموذج لغة كبير محلي (LLM)، مثل الذي يعمل على Ollama، للترجمة؟

نعم، يمكنك تكوين KrillinAI لاستخدام أي LLM محلي يوفر نقطة نهاية API متوافقة مع OpenAI.

1. **ابدأ نموذج LLM المحلي الخاص بك:** تأكد من أن خدمتك المحلية (مثل Ollama التي تعمل على Llama3) نشطة وقابلة للوصول.
2. **تحرير `config.toml`:** في قسم نموذج اللغة الكبير (المترجم):

* قم بتعيين مزود `name` (أو `type`) إلى `"openai"`.
* قم بتعيين `api_key` إلى أي سلسلة عشوائية (مثل `"ollama"`)، حيث إنها ليست مطلوبة للمكالمات المحلية.
* قم بتعيين `base_url` إلى نقطة نهاية API لنموذجك المحلي. بالنسبة لـ Ollama، يكون هذا عادةً `http://localhost:11434/v1`.
* قم بتعيين `model` إلى اسم النموذج الذي تقدمه، على سبيل المثال، `"llama3"`.

### 10. هل يمكنني تخصيص نمط الترجمة (الخط، الحجم، اللون) في الفيديو النهائي؟

لا. حاليًا، يقوم KrillinAI بإنشاء **ترجمات مشفرة**، مما يعني أنها تُحرق مباشرة في إطارات الفيديو. التطبيق **لا يقدم خيارات لتخصيص نمط الترجمة**؛ يستخدم نمطًا محددًا مسبقًا.

للحصول على تخصيص متقدم، الحل الموصى به هو:

1. استخدام KrillinAI لإنشاء ملف الترجمة `.srt` المترجم.
2. استيراد الفيديو الأصلي وملف `.srt` هذا إلى محرر فيديو احترافي (مثل Premiere Pro، Final Cut Pro، DaVinci Resolve) لتطبيق الأنماط المخصصة قبل التصدير.

### 11. لدي بالفعل ملف `.srt` مترجم. هل يمكن لـ KrillinAI استخدامه فقط لأداء الدبلجة؟

لا، هذه الميزة غير مدعومة حاليًا. يقوم التطبيق بتشغيل سلسلة كاملة من التفريغ إلى إنشاء الفيديو النهائي.